spring:
  datasource:
    url: jdbc:mysql://114.67.242.159:3306/pulse_job?useSSL=false&serverTimezone=UTC
    username: root
    password: mypassword
    driver-class-name: com.mysql.cj.jdbc.Driver

# PulseJob Admin 配置
pulse:
  job:
    admin:
      host: localhost
      port: 10410
      # WebSocket 配置
      websocket:
        enabled: true
        # 心跳间隔（毫秒）
        heartbeat-interval: 30000
        # 心跳超时（毫秒）
        heartbeat-timeout: 90000
        # 最大会话数
        max-sessions: 1000
        # 消息发送超时（毫秒）
        send-timeout: 10000
        # 消息缓冲区大小
        buffer-size: 8192
        # 最大文本消息大小
        max-text-message-size: 65536
        # 是否启用消息压缩
        compression-enabled: true
        # 会话空闲超时（毫秒，5分钟）
        session-idle-timeout: 300000
      # 线程池配置
      thread-pool:
        # 任务调度线程池配置
        scheduler-core-pool-size: 4
        scheduler-max-pool-size: 8
        scheduler-queue-size: 1000
        # 任务执行线程池配置
        executor-core-pool-size: 8
        executor-max-pool-size: 16
        executor-queue-size: 2000
        # 异步处理线程池配置
        async-core-pool-size: 4
        async-max-pool-size: 8
        async-queue-size: 500
        # 线程空闲时间（秒）
        keep-alive-seconds: 60
      # 时间轮配置
      hashed-wheel-timer:
        # 时间轮刻度间隔（毫秒）
        tick-duration: 1
        # 时间轮刻度间隔时间单位
        tick-duration-unit: SECONDS
        # 时间轮刻度数量
        ticks-per-wheel: 512
        # 最大等待任务数，-1表示无限制
        max-pending-timeouts: -1
        # 线程工厂名称前缀
        thread-name-prefix: hashed-wheel-timer-
      # 定时任务调度配置
      scheduler:
        # 是否启用自动调度
        enabled: true
        # 查询间隔（毫秒）- 多久查询一次数据库
        query-interval: 5000
        # 查询时间窗口（秒）- 查询未来多少秒内的任务，建议为 2 × 扫描间隔
        query-window: 10
        # 时间轮调度阈值（秒）- 延迟小于此值的任务放入时间轮
        wheel-threshold-seconds: 10
        # 过期容忍时间（秒）- 超过此时间的过期任务跳过本次执行（参考 xxl-job）
        misfire-threshold-seconds: 10
        # 重试间隔（秒）
        retry-interval: 30
        # 最大重试次数
        max-retry-times: 3

# 日志配置
logging:
  level:
#    com.simple.pulsejob.admin.persistence: DEBUG
    # Hibernate SQL 日志
    org.hibernate.SQL: DEBUG
    # Hibernate 参数绑定日志 (Hibernate 6.x)
    org.hibernate.orm.jdbc.bind: TRACE
    # 如果使用 Hibernate 5.x，使用下面这行代替：
    # org.hibernate.type.descriptor.sql.BasicBinder: TRACE
